(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(e,t,a){},220:function(e,t,a){},251:function(e,t,a){e.exports=a.p+"static/media/Wild_Chat_Logo.025189bf.png"},274:function(e,t,a){e.exports=a(552)},279:function(e,t,a){},280:function(e,t,a){},363:function(e,t,a){},364:function(e,t,a){},452:function(e,t){},455:function(e,t,a){},475:function(e,t,a){},492:function(e,t,a){},493:function(e,t,a){},494:function(e,t,a){},495:function(e,t,a){},496:function(e,t,a){},549:function(e,t,a){},550:function(e,t,a){},552:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(49),l=a.n(r),i=(a(279),a(14)),s=a(262);a(280);var o=function(e){var t=Object(n.useContext)(R),a=Object(i.a)(t,2),r=(a[0],a[1]);return c.a.createElement("div",{className:"row"},c.a.createElement("img",{className:"image",src:e.user.profilePic,alt:""}),c.a.createElement("strong",{onClick:function(){r({user:e.user.name,id:e.user.idUser})}},e.user.name))},u=a(102),m=a.n(u),E=(a(281),a(237)),f=a.n(E);a(363);m.a.locale("fr");var b=function(e){var t=e.message,a=Object(n.useContext)(B),r=Object(i.a)(a,2),l=r[0];return r[1],c.a.createElement("div",{className:"mssgContainer"},c.a.createElement("div",{className:"mssg"},c.a.createElement(f.a,{className:"markdown",source:t.message}),l?c.a.createElement("span",{className:"date"},m()(t.date).format("L - LT")):c.a.createElement("span",null)))},d=a(563);a(364);var g=function(e){var t=e.message;return c.a.createElement(d.a,{compact:!0,className:t.privateMessage?"msg private":"msg"},c.a.createElement("div",{className:"msg"},c.a.createElement(o,{user:t.user}),c.a.createElement(b,{message:t})))},v=a(240),O=a.n(v).a.connect("https://wildchat.julienduhem.fr/"),j={sendGoogleUser:function(e){O.emit("SEND_NEW_GOOGLE_USER",e)},receivedNewUser:function(e){O.on("NEW_USER",e)},receiveSystMsg:function(e){O.on("SYST_MSG",e)},receivedNewConnection:function(e){O.on("NEW_CONNECTION",e)},receiveDisconnection:function(e){O.on("NEW_DISCONNECT",e)},receiveMessageOn:function(e){O.on("RECEIVE_MESSAGE",e)},receiveMessageOff:function(e){O.off("RECEIVE_MESSAGE",e)},sendDisconnection:function(e){O.emit("SEND_DISCONNECTION",e)},sendMessageEmit:function(e,t,a,n){O.emit("SEND_MESSAGE",{message:e,user:{name:t.name,idUser:t.idUser,profilePic:t.profilePic},idTo:a,privateMessage:n})}},p=a(562);a(455);var N=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)({}),o=Object(i.a)(l,2),u=(o[0],o[1]),m=Object(n.useContext)(W),E=Object(i.a)(m,2),f=E[0];E[1],Object(n.useEffect)(function(){!1===f&&r([])},[f]),j.receivedNewUser(function(e){r(e.history)}),j.receiveSystMsg(function(e){return u(e)}),Object(n.useEffect)(function(){var e=function(e){b(e)};return j.receiveMessageOn(e),function(){j.receiveMessageOff(e)}},[a]);var b=function(e){r([].concat(Object(s.a)(a),[e]))};return Object(n.useEffect)(function(){document.getElementById("bottom").scrollIntoView({behavior:"smooth"})}),c.a.createElement(p.a,{className:"Feed"},a.map(function(e,t){return c.a.createElement(p.a.Item,{key:t,className:"bulleMsg"},c.a.createElement(g,{message:e}))}),c.a.createElement("div",{id:"bottom"}))},C=a(560),h=(a(475),function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)({}),s=Object(i.a)(l,2),o=s[0],u=s[1],m=Object(n.useContext)(q),E=Object(i.a)(m,2),f=E[0],b=(E[1],Object(n.useState)("")),d=Object(i.a)(b,2),g=d[0],v=d[1],O=Object(n.useContext)(R),p=Object(i.a)(O,2),N=p[0],h=p[1],S=Object(n.useState)(!1),k=Object(i.a)(S,2),I=k[0],M=k[1],w=Object(n.useState)({}),y=Object(i.a)(w,2),_=y[0],U=y[1];j.receivedNewUser(function(e){u({name:e.user.name,idUser:e.user.idUser,profilePic:e.user.profilePic})});return Object(n.useEffect)(function(){""!==N&&(v("@".concat(N.user," ")),M(!0))},[N]),j.receiveSystMsg(function(e){return U(e)}),c.a.createElement("div",null,c.a.createElement(C.a,{className:"InputMsg",onSubmit:function(){return j.sendMessageEmit(a,o,N.id,I),r(""),h(""),M(!1),void v("")}},c.a.createElement(C.a.Input,{className:f,action:"Send",placeholder:"Type your message...",value:g,onChange:function(e){v(e.target.value),r(e.target.value)}})),c.a.createElement("div",null,c.a.createElement("div",{id:"SystemeMessage"}," ",_.user?_.user.name:null," ",0===_.statut?" is disconnected":null," ",1===_.statut?" is connected":null," ")))}),S=a(251),k=a.n(S);a(492);var I=function(){return c.a.createElement("div",{className:"Logo"},c.a.createElement("img",{src:k.a,alt:"logo wild chat"}))};a(493);var M=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],r=t[1];return j.receivedNewUser(function(e){return r({name:e.user.name,profilePic:e.user.profilePic,id:e.user.idUser})}),j.receiveDisconnection(function(e){a.id===e.user.idUser&&r({})}),c.a.createElement("div",{className:"MyProfile"},c.a.createElement("img",{src:a.profilePic,alt:""}),c.a.createElement("h2",null,a.name))};var w=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(n.useContext)(W),s=Object(i.a)(l,2),o=s[0];return s[1],Object(n.useEffect)(function(){j.receivedNewConnection(function(e){return r(e.users)}),j.receiveDisconnection(function(e){return r(e.users)})},[]),c.a.createElement(p.a,{className:"Counter"},o?"Users Online :  ".concat(a.length):"")};a(494);var y=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(""),u=Object(i.a)(s,2),m=(u[0],u[1]),E=Object(n.useContext)(W),f=Object(i.a)(E,2),b=f[0];return f[1],Object(n.useEffect)(function(){j.receivedNewConnection(function(e){l(e.users),m(e.user)}),j.receiveDisconnection(function(e){return l(e.users)})},[]),c.a.createElement(p.a,{className:"UsersList"},b?r.map(function(e,t){return c.a.createElement(p.a.Item,{key:t},c.a.createElement(o,{user:e}))}):null)};a(495);var _=function(e){return c.a.createElement("div",{className:"UsersBox"},c.a.createElement(M,null),c.a.createElement(w,null),c.a.createElement(y,null))},U=(a(137),a(43)),x=a(561),P=a(559);a(496),a(220);var D=function(){var e=Object(n.useContext)(B),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(n.useContext)(q),s=Object(i.a)(l,2),o=(s[0],s[1]);return c.a.createElement(p.a,{className:"list"},c.a.createElement(p.a.Item,{className:"listTime",as:"a"},c.a.createElement(U.a,{name:"time"}),c.a.createElement(p.a.Content,null,c.a.createElement(p.a.Header,null,"Heure des messages"),c.a.createElement(p.a.Description,null,c.a.createElement(P.a,{toggle:!0,onClick:function(){return r(!a)},checked:a})))),c.a.createElement(p.a.Item,{className:"listColor",as:"a"},c.a.createElement(U.a,{name:"theme"}),c.a.createElement(p.a.Content,null,c.a.createElement(p.a.Header,null,"Th\xe8me"),c.a.createElement(p.a.Description,null,c.a.createElement(U.a,{className:"redIcon",name:"stop",size:"large",title:"Red",onClick:function(){return o("red")}}),c.a.createElement(U.a,{className:"greenIcon",name:"stop",size:"large",title:"Green",onClick:function(){return o("green")}}),c.a.createElement(U.a,{className:"violetIcon",name:"stop",size:"large",title:"Waycocool",onClick:function(){return o("")}}),c.a.createElement(U.a,{className:"greyIcon",name:"stop",size:"large",title:"Grey",onClick:function(){return o("grey")}}),c.a.createElement(U.a,{className:"blueIcon",name:"stop",size:"large",title:"Blue",onClick:function(){return o("blue")}}),c.a.createElement(U.a,{className:"nightIcon",name:"moon",size:"large",title:"Night Mode",onClick:function(){return o("night")}})))),c.a.createElement(p.a.Item,null))};var G=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!0),s=Object(i.a)(l,2),o=s[0],u=s[1];return c.a.createElement("div",null,c.a.createElement(U.a,{className:"iconHover",onClick:function(){r(!0),u("blurring")},name:"cog",size:"big"}),c.a.createElement(x.a,{size:"tiny",dimmer:o,open:a,onClose:function(){r(!1),u(!0)},closeIcon:!0,className:"modalMenu"},c.a.createElement(x.a.Header,null,"Options"),c.a.createElement(x.a.Description,null,c.a.createElement(D,null))))};a(549);var z=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!0),s=Object(i.a)(l,2),o=s[0],u=s[1];return c.a.createElement("div",null,c.a.createElement(U.a,{className:"iconHover",onClick:function(){r(!0),u("blurring")},name:"info circle",size:"big"}),c.a.createElement(x.a,{dimmer:o,open:a,onClose:function(){r(!1),u(!0)},closeIcon:!0,className:"modalMenu"},c.a.createElement(x.a.Header,null,"Informations"),c.a.createElement("div",{className:"contributors"},c.a.createElement(x.a.Description,null,c.a.createElement("p",null,"Pour envoyer un message priv\xe9, vous pouvez cliquer sur le nom de la personne concern\xe9e !"),c.a.createElement("hr",null),c.a.createElement("p",null,"Ce chat utilise ",c.a.createElement("a",{href:"https://guides.github.com/features/mastering-markdown/",target:"_blank"},"Markdown"),"."),c.a.createElement("hr",null),c.a.createElement("p",null,"Application faite par:"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("a",{href:"https://github.com/AureliaRoumesy",target:"_blank"},c.a.createElement(U.a,{name:"github"})," - Aur\xe9lia Roumesy")),c.a.createElement("li",null,c.a.createElement("a",{href:"https://github.com/Bmontbe",target:"_blank"},c.a.createElement(U.a,{name:"github"})," - B\xe9atrice de Montbeillard")),c.a.createElement("li",null,c.a.createElement("a",{href:"https://github.com/samsamaa",target:"_blank"},c.a.createElement(U.a,{name:"github"})," - Sam Adib Ghiassi")),c.a.createElement("li",null,c.a.createElement("a",{href:"https://github.com/dhmjulien",target:"_blank"},c.a.createElement(U.a,{name:"github"})," - Julien Duhem")))))))},T=a(260),H=a.n(T);a(550);var L=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(!0),o=Object(i.a)(s,2),u=o[0],m=o[1],E=Object(n.useContext)(W),f=Object(i.a)(E,2),b=f[0],d=f[1],g=Object(n.useState)(""),v=Object(i.a)(g,2),O=v[0],p=v[1],N={},C=function(){l(!0),m("blurring")};return j.receivedNewUser(function(e){return p(e.user)}),Object(n.useEffect)(function(){C()},[]),c.a.createElement("div",null,c.a.createElement("div",{className:"Login"},b?c.a.createElement(U.a,{className:"iconHover",onClick:function(){localStorage.removeItem("id_token"),j.sendDisconnection(O),d(!1),C()},name:"sign-out",size:"big"}):c.a.createElement(U.a,{className:"iconHover",onClick:C,name:"sign-in",size:"big"})),c.a.createElement("div",{className:"modalConnection"},c.a.createElement(x.a,{size:"tiny",dimmer:u,open:r,className:"loginMenu"},c.a.createElement(x.a.Content,null,c.a.createElement("p",{className:"welcome"},"Bienvenue sur Wild Chat !"),c.a.createElement("p",{className:"infoConnection"},"Pour participer \xe0 la discussion,",c.a.createElement("br",null),"connecte-toi avec ton compte Google. "),c.a.createElement("p",{className:"markdown-link"},"Ce chat utilise ",c.a.createElement("a",{href:"https://guides.github.com/features/mastering-markdown/",target:"_blank"},"Markdown"),"."),c.a.createElement("div",{className:"googleConnection"},c.a.createElement(H.a,{clientId:"543165394107-pun2i8uuha0cmat6n5bq8qtc87njp5vu.apps.googleusercontent.com",buttonText:"LOGIN WITH GOOGLE",onSuccess:function(e){var t="";t=e.profileObj.familyName?e.profileObj.givenName+" "+e.profileObj.familyName:e.profileObj.givenName,N={username:t,profilePic:e.profileObj.imageUrl},localStorage.getItem("id_token")&&localStorage.getItem("id_token")===e.tokenId?console.log("same user"):(localStorage.setItem("id_token",e.tokenId),j.sendGoogleUser(N),e&&d(!0),l(!1),m(!0))},onFailure:function(e){return console.log(e)}}))))))};var A=function(){return c.a.createElement("div",{className:"Parameters"},c.a.createElement(G,null),c.a.createElement(z,null),c.a.createElement(L,null))},W=Object(n.createContext)(!1),B=Object(n.createContext)(!1),R=Object(n.createContext)(""),q=Object(n.createContext)("");var J=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),s=Object(i.a)(l,2),o=s[0],u=s[1],m=Object(n.useState)(""),E=Object(i.a)(m,2),f=E[0],b=E[1],d=Object(n.useState)(!1),g=Object(i.a)(d,2),v=g[0],O=g[1],j=Object(n.useState)(""),p=Object(i.a)(j,2),C=p[0],S=p[1];return c.a.createElement(W.Provider,{value:[v,O]},c.a.createElement(B.Provider,{value:[o,u]},c.a.createElement(R.Provider,{value:[f,b]},c.a.createElement(q.Provider,{value:[C,S]},c.a.createElement("div",{className:"appContainer"},c.a.createElement("div",{className:"App "+C},c.a.createElement("div",{className:"chat"},c.a.createElement(N,null),c.a.createElement(h,null)),c.a.createElement("div",{className:"infos"+(a?" active":" inactive")},c.a.createElement("button",{className:"toggle",onClick:function(){return r(!a)}},c.a.createElement(U.a,{name:a?"chevron circle right":"chevron circle left"})),c.a.createElement(I,null),c.a.createElement(_,null),c.a.createElement(A,null))))))))};a(551);l.a.render(c.a.createElement(J,null),document.getElementById("root"))}},[[274,1,2]]]);
//# sourceMappingURL=main.80563d7f.chunk.js.map